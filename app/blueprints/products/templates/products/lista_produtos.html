{% extends '_shared/base.html' %}
{% block title %}Produtos - CRUD{% endblock %}
{% block content %}
<div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-5">
  <h3 class="text-2xl font-semibold">Produtos</h3>
  <a href="{{ url_for('products.create_product') }}"
     class="inline-flex items-center rounded-xl bg-emerald-600 text-white px-4 py-2 hover:bg-emerald-500 active:scale-[.99] transition">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 4v16m8-8H4"/>
    </svg>
    Adicionar
  </a>
</div>

<div class="overflow-x-auto bg-white dark:bg-slate-900/70 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-sm">
  <table class="min-w-full text-sm">
    <thead class="bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-200">
      <tr>
        <th class="px-4 py-3 text-left">ID</th>
        <th class="px-4 py-3 text-left">Nome</th>
        <th class="px-4 py-3 text-left">Descrição</th>
        <th class="px-4 py-3 text-left">Qtd</th>
        <th class="px-4 py-3 text-left">Preço (R$)</th>
        <th class="px-4 py-3 text-left w-48">Ações</th>
      </tr>
    </thead>
    <tbody>
      {% for p in products %}
      <tr class="border-t border-slate-200 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50">
        <td class="px-4 py-3">{{ p.id }}</td>
        <td class="px-4 py-3 font-medium">{{ p.name }}</td>
        <td class="px-4 py-3 text-slate-600 dark:text-slate-300">{{ p.description or '-' }}</td>
        <td class="px-4 py-3">{{ p.quantity }}</td>
        <td class="px-4 py-3">{{ '%.2f' % p.price }}</td>
        <td class="px-4 py-3 flex flex-wrap gap-2">
          <a class="inline-flex items-center rounded-lg bg-slate-900 text-white px-3 py-1.5 text-xs hover:bg-slate-800 transition"
             href="{{ url_for('products.edit_product', product_id=p.id) }}">Editar</a>
          <a class="inline-flex items-center rounded-lg border px-3 py-1.5 text-xs hover:bg-slate-50 dark:hover:bg-slate-800 transition"
             href="{{ url_for('products.delete_product', product_id=p.id) }}">Excluir</a>
        </td>
      </tr>
      {% else %}
      <tr>
        <td colspan="6" class="px-4 py-8 text-center text-slate-500">Nenhum produto cadastrado.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
